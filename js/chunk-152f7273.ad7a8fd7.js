(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-152f7273"],{"0d0f":function(t,r,e){},6811:function(t,r,e){"use strict";e.r(r);var o=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("div",{staticClass:"main",attrs:{id:"page_olist"}},[o("m-header",{attrs:{title:"我的订单"}},[o("a",{attrs:{slot:"left",href:"javascript:;"},on:{click:t.goPrev},slot:"left"},[o("i",{staticClass:"el-icon-arrow-left"})])]),o("div",{staticClass:"list_main"},[o("el-tabs",{attrs:{stretch:""},on:{"tab-click":t.tabClick},model:{value:t.activeName,callback:function(r){t.activeName=r},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"全部",name:"first"}},["false"==t.no_order?o("ul",t._l(t.order_list,function(r){return o("li",{key:r.order_id},[o("router-link",{attrs:{to:{name:"order_detail",query:{id:r.order_id}}}},[o("h2",[o("span",[t._v(t._s(t.order_store))]),o("span",[t._v(t._s(r.order_status))])]),o("dl",{staticClass:"order_text"},t._l(r.order_pro,function(r){return o("dd",{key:r.pro_sign},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$options.filters.getAbspath(t.pro_data[r.pro_id].pro_img1),expression:"$options.filters.getAbspath(pro_data[order_pro.pro_id].pro_img1)"}],attrs:{alt:""}}),o("div",{staticClass:"pro_text"},[o("p",{staticClass:"pro_title"},[t._v(t._s(t.pro_data[r.pro_id].pro_title))]),o("p",{staticClass:"pro_count"},[t._v("x"+t._s(r.pro_count))])])])}),0),o("div",{staticClass:"order_middle"},[o("p",[t._v("共"+t._s(r.order_pro.length)+"件商品")]),o("p",[t._v("\n\t\t\t\t\t\t\t\t\t实付 : "),o("span",[t._v(t._s(r.order_money?"￥"+r.order_money:"")+t._s(r.order_money&&r.order_coin?"+":"")+t._s(r.order_coin?r.order_coin+" 积分":""))])])])]),"待付款"==r.order_status||"待评价"==r.order_status?o("div",{staticClass:"order_bottom"},["待付款"==r.order_status?o("button",{staticClass:"to_pay",attrs:{type:"button"}},[t._v("去付款")]):t._e(),"待付款"==r.order_status?o("button",{attrs:{type:"button"}},[t._v("取消订单")]):t._e(),"待评价"==r.order_status?o("router-link",{attrs:{to:{name:"alter_comment",query:{id:r.order_id}}}},[t._v("去评价")]):t._e()],1):t._e()],1)}),0):t._e(),"true"==t.no_order?o("div",{staticClass:"no_order"},[o("img",{attrs:{src:e("6dcf"),alt:""}}),o("p",[t._v("暂无订单")])]):t._e()]),o("el-tab-pane",{attrs:{label:"待付款",name:"second"}},["false"==t.no_orderfil?o("ul",t._l(t.order_filter,function(r){return o("li",{key:r.order_id},[o("router-link",{attrs:{to:{name:"order_detail",query:{id:r.order_id}}}},[o("h2",[o("span",[t._v(t._s(t.order_store))]),o("span",[t._v(t._s(r.order_status))])]),o("dl",{staticClass:"order_text"},t._l(r.order_pro,function(r){return o("dd",{key:r.pro_sign},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$options.filters.getAbspath(t.pro_data[r.pro_id].pro_img1),expression:"$options.filters.getAbspath(pro_data[order_pro.pro_id].pro_img1)"}],attrs:{alt:""}}),o("div",{staticClass:"pro_text"},[o("p",{staticClass:"pro_title"},[t._v(t._s(t.pro_data[r.pro_id].pro_title))]),o("p",{staticClass:"pro_count"},[t._v("x"+t._s(r.pro_count))])])])}),0),o("div",{staticClass:"order_middle"},[o("p",[t._v("共"+t._s(r.order_pro.length)+"件商品")]),o("p",[t._v("\n\t\t\t\t\t\t\t\t\t实付 : "),o("span",[t._v(t._s(r.order_money?"￥"+r.order_money:"")+t._s(r.order_money&&r.order_coin?"+":"")+t._s(r.order_coin?r.order_coin+" 积分":""))])])])]),"待付款"==r.order_status?o("div",{staticClass:"order_bottom"},["待付款"==r.order_status?o("button",{staticClass:"to_pay",attrs:{type:"button"}},[t._v("去付款")]):t._e(),"待付款"==r.order_status?o("button",{attrs:{type:"button"}},[t._v("取消订单")]):t._e()]):t._e()],1)}),0):t._e(),"true"==t.no_orderfil?o("div",{staticClass:"no_order"},[o("img",{attrs:{src:e("6dcf"),alt:""}}),o("p",[t._v("暂无订单")])]):t._e()]),o("el-tab-pane",{attrs:{label:"待收货",name:"third"}},["false"==t.no_orderfil?o("ul",t._l(t.order_filter,function(r){return o("li",{key:r.order_id},[o("router-link",{attrs:{to:{name:"order_detail",query:{id:r.order_id}}}},[o("h2",[o("span",[t._v(t._s(t.order_store))]),o("span",[t._v(t._s(r.order_status))])]),o("dl",{staticClass:"order_text"},t._l(r.order_pro,function(r){return o("dd",{key:r.pro_sign},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$options.filters.getAbspath(t.pro_data[r.pro_id].pro_img1),expression:"$options.filters.getAbspath(pro_data[order_pro.pro_id].pro_img1)"}],attrs:{alt:""}}),o("div",{staticClass:"pro_text"},[o("p",{staticClass:"pro_title"},[t._v(t._s(t.pro_data[r.pro_id].pro_title))]),o("p",{staticClass:"pro_count"},[t._v("x"+t._s(r.pro_count))])])])}),0),o("div",{staticClass:"order_middle"},[o("p",[t._v("共"+t._s(r.order_pro.length)+"件商品")]),o("p",[t._v("\n\t\t\t\t\t\t\t\t\t实付 : "),o("span",[t._v(t._s(r.order_money?"￥"+r.order_money:"")+t._s(r.order_money&&r.order_coin?"+":"")+t._s(r.order_coin?r.order_coin+" 积分":""))])])])])],1)}),0):t._e(),"true"==t.no_orderfil?o("div",{staticClass:"no_order"},[o("img",{attrs:{src:e("6dcf"),alt:""}}),o("p",[t._v("暂无订单")])]):t._e()]),o("el-tab-pane",{attrs:{label:"待评价",name:"fourth"}},["false"==t.no_orderfil?o("ul",t._l(t.order_filter,function(r){return o("li",{key:r.order_id},[o("router-link",{attrs:{to:{name:"order_detail",query:{id:r.order_id}}}},[o("h2",[o("span",[t._v(t._s(t.order_store))]),o("span",[t._v(t._s(r.order_status))])]),o("dl",{staticClass:"order_text"},t._l(r.order_pro,function(r){return o("dd",{key:r.pro_sign},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$options.filters.getAbspath(t.pro_data[r.pro_id].pro_img1),expression:"$options.filters.getAbspath(pro_data[order_pro.pro_id].pro_img1)"}],attrs:{alt:""}}),o("div",{staticClass:"pro_text"},[o("p",{staticClass:"pro_title"},[t._v(t._s(t.pro_data[r.pro_id].pro_title))]),o("p",{staticClass:"pro_count"},[t._v("x"+t._s(r.pro_count))])])])}),0),o("div",{staticClass:"order_middle"},[o("p",[t._v("共"+t._s(r.order_pro.length)+"件商品")]),o("p",[t._v("\n\t\t\t\t\t\t\t\t\t实付 : "),o("span",[t._v(t._s(r.order_money?"￥"+r.order_money:"")+t._s(r.order_money&&r.order_coin?"+":"")+t._s(r.order_coin?r.order_coin+" 积分":""))])])])]),"待评价"==r.order_status?o("div",{staticClass:"order_bottom"},["待评价"==r.order_status?o("router-link",{attrs:{to:{name:"alter_comment",query:{id:r.order_id}}}},[t._v("去评价")]):t._e()],1):t._e()],1)}),0):t._e(),"true"==t.no_orderfil?o("div",{staticClass:"no_order"},[o("img",{attrs:{src:e("6dcf"),alt:""}}),o("p",[t._v("暂无订单")])]):t._e()])],1)],1)],1)},s=[],a=e("2b0e"),i=e("d784"),_={components:{mHeader:i["a"]},data:function(){return{activeName:this.$route.query.id||"first",user_info:JSON.parse(localStorage.getItem("yice_user"))||null,order_store:"i-testing",order_list:[],pro_data:[],order_filter:[],no_order:"",no_orderfil:""}},computed:{},methods:{goPrev:function(){window.history.length>1?this.$router.back():this.$router.push("/")},goLogin:function(){sessionStorage.setItem("yice_back",this.$route.path),this.$router.push("/login")},loadOrder:function(){var t=this.$weui.loading("正在加载"),r=this;a["default"].axios.get("http://114.215.242.13:8010/api/yicemall/getOrderlist",{params:{user_id:r.user_info.user_id}}).then(function(e){if(200==e.status)if(r.order_list=e.data.order_data,e.data.order_data.length){for(var o=0;o<e.data.pro_data.length;o++)a["default"].set(r.pro_data,e.data.pro_data[o].pro_id,e.data.pro_data[o]);if("first"!=r.activeName){var s;switch(r.activeName){case"second":s="待付款";break;case"third":s="待收货";break;case"fourth":s="待评价";break;default:s="无法获取"}r.order_filter=[];for(var i=0;i<r.order_list.length;i++)r.order_list[i].order_status==s&&r.order_filter.push(r.order_list[i]);0==r.order_filter.length?r.no_orderfil="true":r.no_orderfil="false"}r.no_order="false",t.hide()}else r.no_order="true",r.no_orderfil="true",t.hide()}).catch(function(r){alert(r),t.hide()})},tabClick:function(t){if("全部"!=t.label){this.order_filter=[];for(var r=0;r<this.order_list.length;r++)this.order_list[r].order_status==t.label&&this.order_filter.push(this.order_list[r]);0==this.order_filter.length?this.no_orderfil="true":this.no_orderfil="false"}},cancleOrder:function(){var t=this;t.$weui.confirm("确定取消订单吗？",function(){a["default"].axios({url:"http://114.215.242.13:8010/api/yicemall/alterOrder",method:"post",data:{order_status:"已关闭",order_id:t.order_detail.order_id},transformRequest:function(t){var r=[];for(var e in t)r.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r.join("&")}}).then(function(r){200==r.status&&r.data.code&&(t.order_detail.order_status="已关闭",t.$weui.toast("取消订单成功",{duration:500}))}).catch(function(t){alert(t)})})}},mounted:function(){this.user_info?this.loadOrder():this.$router.push("/login")}},d=_,n=(e("c515"),e("9ccd"),e("2877")),l=Object(n["a"])(d,o,s,!1,null,"18d67233",null);r["default"]=l.exports},"6b26":function(t,r,e){},"6dcf":function(t,r,e){t.exports=e.p+"img/no_pro.26d818df.png"},"97fc":function(t,r,e){"use strict";var o=e("aebb"),s=e.n(o);s.a},"9ccd":function(t,r,e){"use strict";var o=e("6b26"),s=e.n(o);s.a},aebb:function(t,r,e){},c515:function(t,r,e){"use strict";var o=e("0d0f"),s=e.n(o);s.a},d784:function(t,r,e){"use strict";var o=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("header",{staticClass:"m-header is-fixed"},[e("div",{staticClass:"m-header-button is-left"},[t._t("left")],2),e("h1",{staticClass:"m-header-title",domProps:{textContent:t._s(t.title)}}),e("div",{staticClass:"m-header-button is-right"},[t._t("right")],2)])},s=[],a={props:{title:{type:String,default:""}}},i=a,_=(e("97fc"),e("2877")),d=Object(_["a"])(i,o,s,!1,null,"48061a4a",null);r["a"]=d.exports}}]);